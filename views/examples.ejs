<!DOCTYPE html>
<html lang="en">
<head>
    <% include partials/report/header %>
    <% include partials/master/header %>
</head>
<body class="fixed-navigation">

<div id="wrapper">

    <% include partials/master/leftPanel %>

    <div id="page-wrapper" class="gray-bg">

        <% include partials/master/topPanel %>

        <div id="content" class="wrapper wrapper-content" style="padding-right: 15px;">

            <div class="row white-bg">
                <% include partials/master/message %>

                <div class="col-md-4">
                    <h1>Example Reports</h1>
                </div>
            </div>
            <div class="row white-bg">
                <div class="col-lg-12">
                    <table id="examples" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
                    </table>
                </div>
            </div>
        </div>

        <% include partials/master/footer %>

    </div>
</div>

<% include partials/master/footerScripts %>
<% include partials/report/footerScripts %>

<script>

    function buttonHtml(example) {
        return '<button onclick="window.location=(\'' + example.path + '?options=' + encodeURIComponent(JSON.stringify(example.options)) + '\')" type="button" class="btn btn-primary btn-xs">Try it!</button>';
    }

    var rows = [], columns = [{ title: 'Category'}, { title: 'Description'}, { title: 'Action'} ];
    var examples = [];

    examples.push({
        title: 'Quality',
        description: "The countries with the lowest quality traffic",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "score",
            group: "country",
            segments: "-1000",
            sort: { score: 1 }
        }
    });

    examples.push({
        title: 'Quality',
        description: "Reasons for poor quality traffic",
        path: '/sessions',
        options: {
            "dateInterval": "Hourly",
            "dateLabel": "Today",
            "attributes": "sessions",
            "segments": "-1000",
            "hiddenSeries": {
                "sessions": true
            },
            "group": "offense",
            "plotKeys": [
                {
                    "offense": "Public proxy"
                },
                {
                    "offense": "Block list"
                },
                {
                    "offense": "Publisher collusion"
                }
            ]
        }
    });

    examples.push({
        title: 'Quality',
        description: "Visible vs. hidden sessions",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            "segments": "custom-1,custom-2",
            "customSegments": {
                "custom-1": {
                    "text": "Visible",
                    "query": {
                        "$and": [
                            {
                                "visible": true
                            }
                        ]
                    }
                },
                "custom-2": {
                    "text": "Hidden",
                    "query": {
                        "$and": [
                            {
                                "visible": false
                            }
                        ]
                    }
                }
            },
            "customCount": 2,
            "hiddenSeries": {
                "sessions": true
            }
        }
    });

    examples.push({
        title: 'Traffic',
        description: "Today's sessions by hour",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            segments: "-1000"
        }
    });

    examples.push({
        title: 'Traffic',
        description: "Today's sessions by device type (mobile, tablet, etc.) by hour",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            group: 'deviceType',
            segments: "-1000"
        }
    });

    examples.push({
        title: 'Traffic',
        description: "Today's top browsers",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            group: "browser",
            segments: "-1000"
        }
    });

    examples.push({
        title: 'Traffic',
        description: "Android vs. iOS",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            "segments": "-1000,custom-1,custom-2",
            "customSegments": {
                "custom-1": {
                    "text": "Android",
                    "query": {
                        "$and": [
                            {
                                "platform": {
                                    "$in": [
                                        "Android"
                                    ]
                                }
                            }
                        ]
                    }
                },
                "custom-2": {
                    "text": "iOS",
                    "query": {
                        "$and": [
                            {
                                "platform": {
                                    "$in": [
                                        "iOS"
                                    ]
                                }
                            }
                        ]
                    }
                }
            },
            "customCount": 2,
            "hiddenSeries": {
                "sessions": true
            }
        }
    });

    examples.push({
        title: 'Traffic',
        description: "Apple vs. Samsung",
        path: '/sessions',
        options: {
            dateInterval: "Hourly",
            dateLabel: "Today",
            attributes: "sessions",
            "segments": "-1000,custom-1,custom-2",
            "customSegments": {
                "custom-1": {
                    "text": "Apple",
                    "query": {
                        "$and": [
                            {
                                "deviceVendor": {
                                    "$in": [
                                        "Apple"
                                    ]
                                }
                            }
                        ]
                    }
                },
                "custom-2": {
                    "text": "Samsung",
                    "query": {
                        "$and": [
                            {
                                "deviceVendor": {
                                    "$in": [
                                        "Samsung"
                                    ]
                                }
                            }
                        ]
                    }
                }
            },
            "customCount": 2,
            "hiddenSeries": {
                "sessions": true
            }
        }
    });

    for (var e = 0; e < examples.length; e++) {
        rows.push([examples[e].title, examples[e].description, buttonHtml(examples[e])]);
    }

    $(document).ready(function() {
        try {
            $('#examples').dataTable({
                data: rows,
                columns: columns,
                dom: 'lfrtip',
                responsive: true
            });
        } catch(err) {
            Page.showMessage(err.message);
        }
    });
</script>
</body>
</html>
	